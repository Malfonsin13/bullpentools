<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pitch Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="modeSelection">
  <div class="gamesGroup">
    <h3>Games</h3>
    <div class="gameModes">
      <button id="bullpenModeBtn">R2K Mode</button>
      <button id="putawayModeBtn">Putaway Mode</button>
      <button id="pointsModeBtn">Points Mode</button>
    </div>
  </div>
  <div class="liveBPGroup">
    <button id="liveBPModeBtn">Live BP Mode</button>
  </div>
  <button id="undoBtn" class="undoBtn">UNDO</button>
</div>


  <div id="bullpenMode" style="display:none;">
    <h1>Pitch Tracker</h1>
    <div id="totalPitches">Total Pitches: 0</div>
    <div id="currentCount">Current Count: 0-0</div>
    <div id="strikePercentage">Strike %: 0</div>
    <div id="raceWins">Race Wins: 0</div>

    <!-- Regular buttons for R2K Mode -->
    <div id="r2kButtons">
      <button id="strikeBtn">Strike</button>
      <button id="ballBtn">Ball</button>
    </div>

    <!-- Putaway Mode buttons: only displayed when in Putaway mode with 2 strikes -->
    <div id="putawayButtons" style="display: none;">
      <button id="kBtn">K</button>
      <button id="noKBtn">NO K</button>
    </div>

    <div id="completedCounts">Completed Counts:</div>
    <ul id="countLog"></ul>
  </div>

  <div id="liveBPMode" style="display:none;">
    <h2 id="modeTitle">Live BP Mode</h2>
    <!-- Combo Selection -->
    <!-- Points Container -->
    <div id="pointsContainer" style="display: none;">
      <div id="pointsDisplay">Points: 0</div>
      <div id="comboPitchTypesDisplay">Combo Pitch Types: None</div>
    </div>
    <!-- Pitch Type Selection -->
    <div id="pitchTypeSelection">
      <h3>Select Pitch Type</h3>
      <button class="btn" id="fourSeam">4S</button>
      <button class="btn" id="twoSeam">2S</button>
      <button class="btn" id="cutter">CT</button>
      <button class="btn" id="curveBall">CB</button>
      <button class="btn" id="slider">SL</button>
      <button class="btn" id="changeup">CH</button>
      <button class="btn" id="splitter">SP</button>
    </div>

    <!-- Combo Pitch Type Selection -->
    <div id="comboPitchTypeSelection" style="display: none;">
      <h3>Select Pitch Type Goal</h3>
      <button class="comboPitchTypeBtn" id="combo-fourSeam">4S</button>
      <button class="comboPitchTypeBtn" id="combo-twoSeam">2S</button>
      <button class="comboPitchTypeBtn" id="combo-cutter">CT</button>
      <button class="comboPitchTypeBtn" id="combo-curveBall">CB</button>
      <button class="comboPitchTypeBtn" id="combo-slider">SL</button>
      <button class="comboPitchTypeBtn" id="combo-changeup">CH</button>
      <button class="comboPitchTypeBtn" id="combo-splitter">SP</button>
      <button id="comboSelectionDoneBtn">Done</button>
    </div>

    <!-- Pitch Location Selection -->
    <div id="pitchLocationSelection" style="display:none;">
      <h3>Select Pitch Location</h3>
      <div id="pitchLocationContainer" style="display: flex; justify-content: center;">
        <div id="pitchLocationGrid">
          <!-- Row 1 -->
          <button class="locationBtn nonCompetitiveZone" id="location-26">26</button>
          <button class="locationBtn nonCompetitiveZone" id="location-27">27</button>
          <button class="locationBtn nonCompetitiveZone" id="location-28">28</button>
          <button class="locationBtn nonCompetitiveZone" id="location-29">29</button>
          <button class="locationBtn nonCompetitiveZone" id="location-30">30</button>
          <button class="locationBtn nonCompetitiveZone" id="location-31">31</button>
          <button class="locationBtn nonCompetitiveZone" id="location-32">32</button>
          <!-- Row 2 -->
          <button class="locationBtn nonCompetitiveZone" id="location-33">33</button>
          <button class="locationBtn shadowZone" id="location-10">10</button>
          <button class="locationBtn shadowZone" id="location-11">11</button>
          <button class="locationBtn shadowZone" id="location-12">12</button>
          <button class="locationBtn shadowZone" id="location-13">13</button>
          <button class="locationBtn shadowZone" id="location-14">14</button>
          <button class="locationBtn nonCompetitiveZone" id="location-34">34</button>
          <!-- Row 3 -->
          <button class="locationBtn nonCompetitiveZone" id="location-35">35</button>
          <button class="locationBtn shadowZone" id="location-15">15</button>
          <button class="locationBtn strikeZone" id="location-1">1</button>
          <button class="locationBtn strikeZone" id="location-2">2</button>
          <button class="locationBtn strikeZone" id="location-3">3</button>
          <button class="locationBtn shadowZone" id="location-16">16</button>
          <button class="locationBtn nonCompetitiveZone" id="location-36">36</button>
          <!-- Row 4 -->
          <button class="locationBtn nonCompetitiveZone" id="location-37">37</button>
          <button class="locationBtn shadowZone" id="location-17">17</button>
          <button class="locationBtn strikeZone" id="location-4">4</button>
          <button class="locationBtn strikeZone" id="location-5">5</button>
          <button class="locationBtn strikeZone" id="location-6">6</button>
          <button class="locationBtn shadowZone" id="location-18">18</button>
          <button class="locationBtn nonCompetitiveZone" id="location-38">38</button>
          <!-- Row 5 -->
          <button class="locationBtn nonCompetitiveZone" id="location-39">39</button>
          <button class="locationBtn shadowZone" id="location-19">19</button>
          <button class="locationBtn strikeZone" id="location-7">7</button>
          <button class="locationBtn strikeZone" id="location-8">8</button>
          <button class="locationBtn strikeZone" id="location-9">9</button>
          <button class="locationBtn shadowZone" id="location-20">20</button>
          <button class="locationBtn nonCompetitiveZone" id="location-40">40</button>
          <!-- Row 6 -->
          <button class="locationBtn nonCompetitiveZone" id="location-41">41</button>
          <button class="locationBtn shadowZone" id="location-21">21</button>
          <button class="locationBtn shadowZone" id="location-22">22</button>
          <button class="locationBtn shadowZone" id="location-23">23</button>
          <button class="locationBtn shadowZone" id="location-24">24</button>
          <button class="locationBtn shadowZone" id="location-25">25</button>
          <button class="locationBtn nonCompetitiveZone" id="location-42">42</button>
          <!-- Row 7 -->
          <button class="locationBtn nonCompetitiveZone" id="location-43">43</button>
          <button class="locationBtn nonCompetitiveZone" id="location-44">44</button>
          <button class="locationBtn nonCompetitiveZone" id="location-45">45</button>
          <button class="locationBtn nonCompetitiveZone" id="location-46">46</button>
          <button class="locationBtn nonCompetitiveZone" id="location-47">47</button>
          <button class="locationBtn nonCompetitiveZone" id="location-48">48</button>
          <button class="locationBtn nonCompetitiveZone" id="location-49">49</button>
        </div>
      </div>
    </div>

<div id="taggingOptions" style="display: none;">
  <h3>Select Tag and Add Note</h3>
  <div id="flagSelection">
    <button class="flagBtn" id="flag-check-video">Check Video</button>
    <button class="flagBtn" id="flag-breakthrough">Breakthrough</button>
    <button class="flagBtn" id="flag-learning-moment">Learning Moment</button>
  </div>
  <textarea id="tagNote" placeholder="Add a note (optional)"></textarea>
  <button id="applyTagBtn">Apply Tag</button>
</div>

<!-- Live Stats Section -->
<div id="liveStatsContainer" style="margin-top: 20px; display: none;">
  <h3>Live Stats</h3>

  <div id="pitchTypeStats">
    <h4>Pitch Type Stats</h4>
    <table style="border-collapse: collapse;">
      <thead>
        <tr>
          <th style="border: 1px solid #ccc; padding: 4px;">Pitch Type</th>
          <th style="border: 1px solid #ccc; padding: 4px;">Total</th>
          <th style="border: 1px solid #ccc; padding: 4px;">Whiff %</th>
          <th style="border: 1px solid #ccc; padding: 4px;">Ball %</th>
        </tr>
      </thead>
      <tbody id="pitchTypeStatsBody">
        <!-- Filled in by JS -->
      </tbody>
    </table>
  </div>

  <div id="countStats" style="margin-top: 20px;">
    <h4>Swing % by Count</h4>
    <table style="border-collapse: collapse;">
      <thead>
        <tr>
          <th style="border: 1px solid #ccc; padding: 4px;">Count (Balls-Strikes)</th>
          <th style="border: 1px solid #ccc; padding: 4px;">Total Pitches</th>
          <th style="border: 1px solid #ccc; padding: 4px;">Swings</th>
          <th style="border: 1px solid #ccc; padding: 4px;">Swing %</th>
        </tr>
      </thead>
      <tbody id="countStatsBody">
        <!-- Filled in by JS -->
      </tbody>
    </table>
  </div>
</div>


<!-- Heatmap Grid -->
    <div id="heatmapGrid" style="display:none;">
      <h3>Heat Map</h3>
      <div id="heatmapContainer" style="display: flex; justify-content: center;">
        <div id="heatmap">
          <!-- Row 1 -->
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-26">26</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-27">27</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-28">28</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-29">29</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-30">30</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-31">31</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-32">32</button>
          <!-- Row 2 -->
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-33">33</button>
          <button class="heatmapBtn shadowZone" id="heatmap-10">10</button>
          <button class="heatmapBtn shadowZone" id="heatmap-11">11</button>
          <button class="heatmapBtn shadowZone" id="heatmap-12">12</button>
          <button class="heatmapBtn shadowZone" id="heatmap-13">13</button>
          <button class="heatmapBtn shadowZone" id="heatmap-14">14</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-34">34</button>
          <!-- Row 3 -->
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-35">35</button>
          <button class="heatmapBtn shadowZone" id="heatmap-15">15</button>
          <button class="heatmapBtn strikeZone" id="heatmap-1">1</button>
          <button class="heatmapBtn strikeZone" id="heatmap-2">2</button>
          <button class="heatmapBtn strikeZone" id="heatmap-3">3</button>
          <button class="heatmapBtn shadowZone" id="heatmap-16">16</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-36">36</button>
          <!-- Row 4 -->
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-37">37</button>
          <button class="heatmapBtn shadowZone" id="heatmap-17">17</button>
          <button class="heatmapBtn strikeZone" id="heatmap-4">4</button>
          <button class="heatmapBtn strikeZone" id="heatmap-5">5</button>
          <button class="heatmapBtn strikeZone" id="heatmap-6">6</button>
          <button class="heatmapBtn shadowZone" id="heatmap-18">18</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-38">38</button>
          <!-- Row 5 -->
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-39">39</button>
          <button class="heatmapBtn shadowZone" id="heatmap-19">19</button>
          <button class="heatmapBtn strikeZone" id="heatmap-7">7</button>
          <button class="heatmapBtn strikeZone" id="heatmap-8">8</button>
          <button class="heatmapBtn strikeZone" id="heatmap-9">9</button>
          <button class="heatmapBtn shadowZone" id="heatmap-20">20</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-40">40</button>
          <!-- Row 6 -->
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-41">41</button>
          <button class="heatmapBtn shadowZone" id="heatmap-21">21</button>
          <button class="heatmapBtn shadowZone" id="heatmap-22">22</button>
          <button class="heatmapBtn shadowZone" id="heatmap-23">23</button>
          <button class="heatmapBtn shadowZone" id="heatmap-24">24</button>
          <button class="heatmapBtn shadowZone" id="heatmap-25">25</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-42">42</button>
          <!-- Row 7 -->
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-43">43</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-44">44</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-45">45</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-46">46</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-47">47</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-48">48</button>
          <button class="heatmapBtn nonCompetitiveZone" id="heatmap-49">49</button>
        </div>
      </div>
    </div>

    <!-- Outcome Selection -->
    <div id="outcomeSelection" style="display:none;">
      <h3>Select Outcome</h3>
      <button class="btn" id="ball">Ball</button>
      <button class="btn" id="whiff">Whiff</button>
      <button class="btn" id="calledStrike">Called Strike</button>
      <button class="btn" id="foul">Foul</button>
      <button class="btn" id="inPlay">In Play</button>
      <button class="btn" id="hbp">HBP</button>
    </div>

    <!-- In Play Outcome Selection -->
    <div id="inPlaySelection" style="display:none;">
      <h3>In Play Result</h3>
      <button class="btn" id="groundball">Groundball</button>
      <button class="btn" id="flyball">FlyBall</button>
      <button class="btn" id="linedrive">LineDrive</button>
    </div>

    <!-- Pitch Log Summary -->
    <div id="pitchLogSummary">
      <h3>Pitch Log</h3>
      <div id="totalPitchesLiveBP">Total Pitches: 0</div> 
      <div id="currentCountLiveBP">Current Count: 0-0</div> 
      <div id="raceWinsLiveBP">Race Wins: </div> 
      <div id="strikePercentageLiveBP">Strike %: 0</div>
      <ul id="pitchLog"></ul>
    </div>
    <button id="exportBtn" style="margin-top: 20px;">Export Stats</button>
    <button id="heatMapBtn" style="margin-top: 20px;">Heat Map</button>
    <button id="nextBatterBtn" style="margin-top: 20px;">Next Batter</button>
    <button id="tagPitchBtn" style="margin-top: 20px;">Tag Pitch</button>
  </div>

  <script src="script.js"></script>
</body>

</html>
